package view;

import com.badlogic.gdx.Screen;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import controllers.GamescreenController;
import utils.Input;
import utils.WorldRenderer;


public class Gamescreen implements Screen {
    WorldRenderer worldRenderer;
    GamescreenController gamescreenController;

    public Gamescreen(SpriteBatch batch) {
        worldRenderer = new WorldRenderer(batch);
        gamescreenController = new GamescreenController();
        gamescreenController.setGameState(GamescreenController.gameStateDef.playing);
    }

    public void render(Input input) {
        switch (gamescreenController.getGameState()) {
            case paused:
                processPause(input);
                break;
            case playing:
                processPlaying(input);
                break;
            case win:
                processWin(input);
                break;
            case gameover:
                processGameover(input);
                break;
            case ready:
                processReady(input);
                break;
        }
        gamescreenController.update();
        worldRenderer.render(gamescreenController);
    }

    private void processReady(Input input) {

    }

    private void processGameover(Input input) {

    }

    private void processWin(Input input) {

    }

    private void processPause(Input input) {

    }

    private void processPlaying(Input input) {
        if(input.buttons[Input.LEFT]){
            gamescreenController.getWorld().getPlayer().moveLeft();
        }
        if(input.buttons[Input.RIGHT]){
            gamescreenController.getWorld().getPlayer().moveRight();
        }
    }

    @Override
    public void resume() { }

    @Override
    public void render(float delta) {
        //To change body of implemented methods use File | Settings | File Templates.
    }

    @Override
    public void resize(int width, int height) { }

    @Override
    public void show() { }

    @Override
    public void hide() { }

    @Override
    public void pause() { }

    @Override
    public void dispose() { }
}