package model;

import utils.GameObject;
import utils.Pluvia;

public class Ball extends GameObject {
    private int radius;
    private float xVector;
    private float yVector = 0;
    private final int groundPosition = 50;
    private static final double gravity = 1;

    public static enum sizeDef {SMALL, MIDDLE, BIG}
    private sizeDef size;

    public Ball(float x, float y, sizeDef theSize, float direction) {
        super(x, y);
        xVector = direction;
        setSize(theSize);
        switch(theSize){
            case BIG:
                this.radius = 70;
                break;
            case MIDDLE:
                this.radius = 50;
                break;
            case SMALL:
                this.radius = 30;
                break;
            default:
                break;
        }
    }

    @Override
    public void update() {
        if(position.y < groundPosition + radius){
            yVector *= -1;
        } else {
            yVector -= gravity;
        }

        position.x += xVector* Pluvia.delta * 20;
        position.y += yVector* Pluvia.delta *20;

        if(position.x >= 750){
            xVector = -xVector;
        }
        if(position.x <= 50){
            xVector = -xVector;
        }
        //TODO update methode verbessern -> maximale h√∂he einstellen
    }
    public sizeDef getSize() {
        return size;
    }

    public void setSize(sizeDef size) {
        this.size = size;
    }

    public int getRadius() {
        return radius;
    }

    public void setRadius(int radius) {
        this.radius = radius;
    }
}
