package view;

import com.badlogic.gdx.Screen;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import controllers.GamescreenController;
import utils.Input;
import utils.Pluvia;
import utils.WorldRenderer;


public class Gamescreen implements Screen {
    WorldRenderer worldRenderer;
    GamescreenController gamescreenController;

    public Gamescreen(SpriteBatch batch) {
        worldRenderer = new WorldRenderer(batch);
        gamescreenController = new GamescreenController();
    }

    public void render(Input input) {
        switch (gamescreenController.getGameState()) {
            case pause:
                //if exit dfruckt denn gang use
                break;
            case playing:
                processInput(input);
                break;
        }
        gamescreenController.update();
        worldRenderer.render(gamescreenController.getWorld());
    }

    private void processInput(Input input) {
        if(input.buttons[Input.LEFT]){
            gamescreenController.getWorld().getPlayer().moveLeft();
        }
        if(input.buttons[Input.RIGHT]){
            gamescreenController.getWorld().getPlayer().moveRight();
        }
    }

    @Override
    public void resume() { }

    @Override
    public void render(float delta) {
        //To change body of implemented methods use File | Settings | File Templates.
    }

    @Override
    public void resize(int width, int height) { }

    @Override
    public void show() { }

    @Override
    public void hide() { }

    @Override
    public void pause() { }

    @Override
    public void dispose() { }
}